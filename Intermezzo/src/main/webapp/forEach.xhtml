<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
  <h:head>
    <title>LoopCompare</title>
  </h:head>

  <h:body>
    <h1>Test loop ui:repeat</h1>

    AccessCount:  #{friendController.counter}

    <ui:repeat value="#{friendController.friends}" var="friend">
      <div>
        #{friend.name} (Access no #{friendController.counter})
        <h:dataTable value="#{friend.books}" var="book">
          <h:column>
            - #{book.title} (Access no #{friendController.counter})
          </h:column>
        </h:dataTable>
      </div>
    </ui:repeat>

    AccessCount:  #{friendController.counter}

    <div>
      <h:button value="forEach" outcome="forEach"/>
      <h:button value="repeat" outcome="repeat"/>
      <h:button value="table" outcome="table"/>
    </div>
  </h:body>
</html>

